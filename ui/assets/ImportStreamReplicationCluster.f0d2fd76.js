import{A as e}from"./api_clusterManage.788b7961.js";import{n as t,D as r}from"./index.851f4377.js";import{e as a,b as l,j as s,h as i}from"./verificationRules.43272891.js";import{s as o}from"./staticTools.84335405.js";import"./index.dfdb83b1.js";import"./vendor.194c4086.js";import"./bus.d56574c1.js";const u={};var n=t({name:"ClusterDefine",data(){let t=(e,t,r)=>{if(t){let e=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,a=t.split(",");for(let t=0;t<a.length;t++)if(!1===e.test(a[t]))return r(new Error(this.$t("verificationRules.IP-dizhi-buguifan-message")));return new Set(a).size!=a.length?r(new Error(this.$t("createStreamReplicationCluster.IPdizhi-buneng-chongfu"))):r()}return r()},r=(e,t,r)=>{const a=this;return t?(a.addSrClusterForm.db_user==a.addSrClusterForm.repl_user?(a.ischeckpass=!0,a.addSrClusterForm.repl_pass=a.addSrClusterForm.db_pass,a.$refs.addSrClusterForm.validateField("repl_pass")):a.ischeckpass=!1,r()):r(new Error(e.message))};return{loading:!1,ischeckpass:!1,addSrClusterFormVisible:!1,addSrClusterFormRules:{cluster_name:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-jiqun-mingcheng"),trigger:"blur"}],os_user:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-caozuo-xitong-yonghu"),trigger:"blur"}],os_uid:[{required:!0,message:this.$t("importPolardbCluster.qingshuru-caozuo-xitonghuyong-UID"),trigger:"blur"}],pg_bin_path:[{required:!0,message:this.$t("importPolardbCluster.qingshuru-shujuku-ruanjian-lujing"),trigger:"blur"}],version:[{required:!0,message:this.$t("importPolardbCluster.qingshuru-shujuku-ruanjian-banben"),trigger:"blur"}],pool_id:[{required:!0,message:this.$t("computerRoomConfig.qingxuanze-vip-chi-id"),trigger:"change"}],vip:[{required:!0,message:this.$t("polarDbComputerRoomConfig.qingshuru-VIP"),trigger:"change"},{required:!0,validator:a,trigger:"blur"},{required:!0,validator:(t,r,a)=>{if(""===r)a(new Error(this.$t("polarDbComputerRoomConfig.qingshuru-VIP")));else{let t={pool_id:this.addSrClusterForm.pool_id,vip:this.addSrClusterForm.vip};e.checkVipInPool(t).then((e=>{a()}))}},trigger:"blur"}],port:[{required:!0,validator:l,trigger:"blur"}],pgdata:[{required:!0,validator:s,trigger:"blur"}],db_user:[{required:!0,validator:r,message:this.$t("createDatabasePage.HA-guanli-yonghu-message"),trigger:"blur"}],db_pass:[{required:!0,validator:r,message:this.$t("defineDatabasePage.DB-zhongde-mima-placeholder"),trigger:"blur"}],repl_user:[{required:!0,validator:r,message:this.$t("createStreamReplicationCluster.qingshuru-liufuzhi-yonghu"),trigger:"blur"}],repl_pass:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-liufuzhi-yonghude-mima"),trigger:"blur"}],db_ip_list:[{required:!0,message:this.$t("importPolardbCluster.qingshuru-shujukude-IPdizhi-message"),trigger:"blur"},{required:!0,validator:t,trigger:"blur"}],repl_ip_list:[{required:!0,message:this.$t("importPolardbCluster.qingshuru-suoyou-shujuku-message"),trigger:"blur"},{required:!0,validator:t,trigger:"blur"}],cstlb_list:[{required:!1,validator:i,trigger:"blur"}],read_vip:[{required:!1,validator:t,trigger:"blur"}],probe_db_name:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-DB"),trigger:"blur"}],probe_interval:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-zhouqi-miao"),trigger:"blur"}],probe_timeout:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-chaoshi-miao"),trigger:"blur"}],probe_retry_cnt:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tanceshibai-message"),trigger:"blur"}],probe_retry_interval:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-shibaihou-message"),trigger:"blur"}],probe_pri_sql:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-zhuku-SQL"),trigger:"blur"}],probe_stb_sql:[{required:!0,message:this.$t("createStreamReplicationCluster.qingshuru-tance-beiku-SQL"),trigger:"blur"}]},addSrClusterForm:{},language:"",vipPoolList:[],isShowAvailableVIP:!1,poolId:""}},watch:{},components:{},methods:{allotOneVip(){if(!this.addSrClusterForm.pool_id)return o(this.$t("computerRoomConfig.qingxuanze-vip-chi-id"),"warning"),!1;let t={pool_id:this.addSrClusterForm.pool_id};e.allotOneVip(t).then((e=>{o(this.$t("computerRoomConfig.fenpei-vip-wei-m",[e])),this.addSrClusterForm.vip=e}))},blurIpListFunc(e){this.addSrClusterForm.db_ip_list=e.target.value.trim()},addSrClusterDialog:function(){this.addSrClusterFormVisible=!0,this.addSrClusterForm={cluster_name:"",auto_failback:!1,auto_failover:!1,failover_keep_cascaded:!1,vip:"",pool_id:"",port:"",pgdata:"",db_user:"",db_pass:"",repl_user:"",repl_pass:"",db_ip_list:"",repl_ip_list:"",cstlb_list:"",read_vip:"",probe_db_name:"cs_sys_ha",probe_interval:"10",probe_timeout:"10",probe_retry_cnt:"2",probe_retry_interval:"5",probe_pri_sql:"UPDATE cs_sys_heartbeat SET hb_time = now()",probe_stb_sql:"SELECT 1",trigger_db_name:"",trigger_db_func:"",remark:"",save_old_room_vip:!1};e.getVipPool({page_num:1,page_size:9999,filter:""}).then((e=>{this.vipPoolList=e.rows}))},addSrClusteSubmit:function(){let t=this;console.log("begin addSrClusteSubmit...."),this.$refs.addSrClusterForm.validate((a=>{if(a){t.loading=!0;let a=Object.assign({},this.addSrClusterForm);a.repl_pass=r.ToDbText(a.repl_pass),a.db_pass=r.ToDbText(a.db_pass),console.log("addSrClusteSubmit: call api addSrCluster ..."),e.addSrCluster(a).then((function(){t.loading=!1,t.$refs.addSrClusterForm.resetFields(),t.addSrClusterFormVisible=!1,t.$emit("refreshTable")}),(function(e){t.loading=!1}))}else console.log("addSrClusteSubmit: invalid input!")}))},openCreateDialog(){this.addSrClusterFormVisible=!0,this.addSrClusterForm={cluster_name:"",auto_failback:!1,auto_failover:!1,failover_keep_cascaded:!1,pool_id:"",vip:"",port:"",pgdata:"",db_user:"",db_pass:"",repl_user:"",repl_pass:"",db_ip_list:"",repl_ip_list:"",cstlb_list:"",read_vip:"",probe_db_name:"cs_sys_ha",probe_interval:"10",probe_timeout:"10",probe_retry_cnt:"2",probe_retry_interval:"5",probe_pri_sql:"UPDATE cs_sys_heartbeat SET hb_time = now()",probe_stb_sql:"SELECT 1",trigger_db_name:"",trigger_db_func:"",remark:"",save_old_room_vip:!1};e.getVipPool({page_num:1,page_size:9999,filter:""}).then((e=>{this.vipPoolList=e.rows}))}},mounted:function(){this.language=localStorage.getItem("language_clup")}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.addSrClusterFormVisible?r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"makeDialog",attrs:{top:"0",title:e.$t("importStreamReplicationCluster.tianjia-liufuzhi-gaokeyong-jiqun"),visible:e.addSrClusterFormVisible,"close-on-click-modal":!1,"element-loading-text":e.$t("Public.ping-ming-jia-zai-zhong"),width:"70%"},on:{"update:visible":function(t){e.addSrClusterFormVisible=t}}},[r("el-form",{ref:"addSrClusterForm",attrs:{model:e.addSrClusterForm,"label-width":"en"==e.language?"180px":"150px",rules:e.addSrClusterFormRules}},[r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:e.$t("clusterDefine.jiqun-mingcheng"),prop:"cluster_name","label-width":"100px"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-jiqun-mingcheng")},on:{blur:function(t){e.addSrClusterForm.cluster_name=t.target.value.trim()}},model:{value:e.addSrClusterForm.cluster_name,callback:function(t){e.$set(e.addSrClusterForm,"cluster_name",t)},expression:"addSrClusterForm.cluster_name"}})],1)],1),r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:e.$t("computerRoomConfig.vip-chi"),prop:"pool_id","label-width":"100px"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("computerRoomConfig.qingxuanze-vip-chi-id")},model:{value:e.addSrClusterForm.pool_id,callback:function(t){e.$set(e.addSrClusterForm,"pool_id",t)},expression:"addSrClusterForm.pool_id"}},e._l(e.vipPoolList,(function(t){return r("el-option",{key:t.pool_id,attrs:{label:t.pool_id+" ("+t.start_ip+"~"+t.end_ip+")",value:t.pool_id}},[r("span",{staticClass:"fl"},[e._v(e._s(t.pool_id))]),r("span",{staticClass:"fr",staticStyle:{color:"#8492a6","font-size":"13px"}},[e._v("("+e._s(t.start_ip)+" ~ "+e._s(t.end_ip)+")")])])})),1)],1)],1),r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:e.$t("importPatroniCluster.jiqun-VIP"),"label-width":"100px",prop:"vip"}},[r("el-input",{attrs:{placeholder:e.$t("importPatroniCluster.qingshuru-jiqun-VIP")},on:{blur:function(t){e.addSrClusterForm.vip=t.target.value.trim()}},model:{value:e.addSrClusterForm.vip,callback:function(t){e.$set(e.addSrClusterForm,"vip",t)},expression:"addSrClusterForm.vip"}})],1)],1),r("el-col",{attrs:{span:3}},[r("el-form-item",{attrs:{label:"",prop:"","label-width":"10px"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.allotOneVip}},[e._v(e._s(e.$t("computerRoomConfig.fenpei")))])],1)],1)],1),r("el-form-item",{attrs:{label:e.$t("importPatroniCluster.shujuku-IP-liebiao"),prop:"db_ip_list"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("importPolardbCluster.qingshuru-shujukude-IPdizhi-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("importPolardbCluster.qingshuru-shujukude-IPdizhi-message")},on:{blur:e.blurIpListFunc},model:{value:e.addSrClusterForm.db_ip_list,callback:function(t){e.$set(e.addSrClusterForm,"db_ip_list",t)},expression:"addSrClusterForm.db_ip_list"}})],1)],1),r("el-form-item",{attrs:{label:e.$t("importPatroniCluster.liufuzhi-IP-liebiao"),prop:"repl_ip_list"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("importPolardbCluster.qingshuru-suoyou-IP-douhaofenge-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("importPolardbCluster.qingshuru-suoyou-shujuku-message")},on:{blur:function(t){e.addSrClusterForm.repl_ip_list=t.target.value.trim()}},model:{value:e.addSrClusterForm.repl_ip_list,callback:function(t){e.$set(e.addSrClusterForm,"repl_ip_list",t)},expression:"addSrClusterForm.repl_ip_list"}})],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.shuju-duankou"),prop:"port"}},[r("el-input",{attrs:{placeholder:e.$t("defineDatabasePage.shuju-duankou-placeholder")},model:{value:e.addSrClusterForm.port,callback:function(t){e.$set(e.addSrClusterForm,"port",t)},expression:"addSrClusterForm.port"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.shuju-mulu"),prop:"pgdata"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("importPatroniCluster.qingshuru-shujuku-duogemulu-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("defineDatabasePage.shuju-mulu-placeholder")},on:{blur:function(t){e.addSrClusterForm.pgdata=t.target.value.trim()}},model:{value:e.addSrClusterForm.pgdata,callback:function(t){e.$set(e.addSrClusterForm,"pgdata",t)},expression:"addSrClusterForm.pgdata"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.DB-zhongde-yonghu"),prop:"db_user"}},[r("el-input",{attrs:{placeholder:e.$t("importPatroniCluster.qingshuru-HA-zaishujuku-message")},on:{blur:function(t){e.addSrClusterForm.db_user=t.target.value.trim()}},model:{value:e.addSrClusterForm.db_user,callback:function(t){e.$set(e.addSrClusterForm,"db_user",t)},expression:"addSrClusterForm.db_user"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("defineDatabasePage.DB-zhongde-mima"),prop:"db_pass"}},[r("el-input",{attrs:{"show-password":"",placeholder:e.$t("defineDatabasePage.DB-zhongde-mima-placeholder")},on:{blur:function(t){e.addSrClusterForm.db_pass=t.target.value.trim()}},model:{value:e.addSrClusterForm.db_pass,callback:function(t){e.$set(e.addSrClusterForm,"db_pass",t)},expression:"addSrClusterForm.db_pass"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStandbyPage.liufuzhi-yonghu"),prop:"repl_user"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-liufuzhi-yonghu")},on:{blur:function(t){e.addSrClusterForm.repl_user=t.target.value.trim()}},model:{value:e.addSrClusterForm.repl_user,callback:function(t){e.$set(e.addSrClusterForm,"repl_user",t)},expression:"addSrClusterForm.repl_user"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStandbyPage.liufuzhi-mima"),prop:"repl_pass"}},[r("el-input",{attrs:{disabled:e.ischeckpass,"show-password":"",placeholder:e.$t("createStreamReplicationCluster.qingshuru-liufuzhi-yonghude-mima")},on:{blur:function(t){e.addSrClusterForm.repl_pass=t.target.value.trim()}},model:{value:e.addSrClusterForm.repl_pass,callback:function(t){e.$set(e.addSrClusterForm,"repl_pass",t)},expression:"addSrClusterForm.repl_pass"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.zhidu-VIP"),prop:"read_vip"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.qingshuru-zhiduVIP-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-zhiduVIP-message")},on:{blur:function(t){e.addSrClusterForm.read_vip=t.target.value.trim()}},model:{value:e.addSrClusterForm.read_vip,callback:function(t){e.$set(e.addSrClusterForm,"read_vip",t)},expression:"addSrClusterForm.read_vip"}})],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:16}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.junhenqi-liebiao"),prop:"cstlb_list"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("importStreamReplicationCluster.qingshuru-fuzai-junheng-liebiao-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-fuzai-message")},on:{blur:function(t){e.addSrClusterForm.cstlb_list=t.target.value.trim()}},model:{value:e.addSrClusterForm.cstlb_list,callback:function(t){e.$set(e.addSrClusterForm,"cstlb_list",t)},expression:"addSrClusterForm.cstlb_list"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-DB"),prop:"probe_db_name"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:"cs_sys_ha",placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-tance-DB")},on:{blur:function(t){e.addSrClusterForm.probe_db_name=t.target.value.trim()}},model:{value:e.addSrClusterForm.probe_db_name,callback:function(t){e.$set(e.addSrClusterForm,"probe_db_name",t)},expression:"addSrClusterForm.probe_db_name"}})],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-zhouqi-miao"),prop:"probe_interval"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.qingshuru-tance-zhouqi-miao"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-tance-zhouqi-miao")},model:{value:e.addSrClusterForm.probe_interval,callback:function(t){e.$set(e.addSrClusterForm,"probe_interval",t)},expression:"addSrClusterForm.probe_interval"}})],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-chaoshi-miao"),prop:"probe_timeout"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.qingshuru-tance-chaoshi-miao"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-tance-chaoshi-miao")},model:{value:e.addSrClusterForm.probe_timeout,callback:function(t){e.$set(e.addSrClusterForm,"probe_timeout",t)},expression:"addSrClusterForm.probe_timeout"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-chongshi-cishu"),prop:"probe_retry_cnt"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.qingshuru-tanceshibai-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-tanceshibai-message")},model:{value:e.addSrClusterForm.probe_retry_cnt,callback:function(t){e.$set(e.addSrClusterForm,"probe_retry_cnt",t)},expression:"addSrClusterForm.probe_retry_cnt"}})],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chongshi-jiange-miao"),prop:"probe_retry_interval"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createPolardbCluster.qingshuru-tanceshibaihou-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createPolardbCluster.qingshuru-tanceshibaihou-message")},model:{value:e.addSrClusterForm.probe_retry_interval,callback:function(t){e.$set(e.addSrClusterForm,"probe_retry_interval",t)},expression:"addSrClusterForm.probe_retry_interval"}})],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"350px":"",label:e.$t("createStreamReplicationCluster.shifou-zidong-jiahui-jiqun"),prop:"auto_failback"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.beikuguzhang-message"),placement:"top-end"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("createDatabasePage.qing-xuan-ze")},model:{value:e.addSrClusterForm.auto_failback,callback:function(t){e.$set(e.addSrClusterForm,"auto_failback",t)},expression:"addSrClusterForm.auto_failback"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:!0}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:!1}})],1)],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"350px":"",label:e.$t("importStreamReplicationCluster.kuajifang-zidongjihuo-zhuku"),prop:"auto_failover"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("importStreamReplicationCluster.zhuku-suozai-message"),placement:"top-end"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("createDatabasePage.qing-xuan-ze")},model:{value:e.addSrClusterForm.auto_failover,callback:function(t){e.$set(e.addSrClusterForm,"auto_failover",t)},expression:"addSrClusterForm.auto_failover"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:!0}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:!1}})],1)],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"350px":"",label:e.$t("importStreamReplicationCluster.guzhangqiehuan-baochijilian-guanxi"),prop:"failover_keep_cascaded"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("createDatabasePage.qing-xuan-ze")},model:{value:e.addSrClusterForm.failover_keep_cascaded,callback:function(t){e.$set(e.addSrClusterForm,"failover_keep_cascaded",t)},expression:"addSrClusterForm.failover_keep_cascaded"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:!0}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:!1}})],1)],1)],1),r("el-col",{attrs:{span:"en"==e.language?12:8}},[r("el-form-item",{attrs:{"label-width":"en"==e.language?"350px":"",label:e.$t("importPolardbCluster.kuazhan-qiehuan-baoliu-jiuzhanvip"),prop:"save_old_room_vip"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("createDatabasePage.qing-xuan-ze")},model:{value:e.addSrClusterForm.save_old_room_vip,callback:function(t){e.$set(e.addSrClusterForm,"save_old_room_vip",t)},expression:"addSrClusterForm.save_old_room_vip"}},[r("el-option",{attrs:{label:e.$t("dbList.shi"),value:!0}}),r("el-option",{attrs:{label:e.$t("dbList.fou"),value:!1}})],1)],1)],1)],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-zhuku-SQL"),prop:"probe_pri_sql"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:"UPDATE cs_sys_heartbeat SET hb_time = now()",placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-tance-zhuku-SQL")},on:{blur:function(t){e.addSrClusterForm.probe_pri_sql=t.target.value.trim()}},model:{value:e.addSrClusterForm.probe_pri_sql,callback:function(t){e.$set(e.addSrClusterForm,"probe_pri_sql",t)},expression:"addSrClusterForm.probe_pri_sql"}})],1)],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.tance-beiku-SQL"),prop:"probe_stb_sql"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:"SELECT 1",placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-tance-beiku-SQL")},on:{blur:function(t){e.addSrClusterForm.probe_stb_sql=t.target.value.trim()}},model:{value:e.addSrClusterForm.probe_stb_sql,callback:function(t){e.$set(e.addSrClusterForm,"probe_stb_sql",t)},expression:"addSrClusterForm.probe_stb_sql"}})],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chufa-DBmingcheng"),prop:"trigger_db_name"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.dangfasheng-guzhang-qiehuanshi-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.dangfasheng-guzhang-qiehuanshi-message")},on:{blur:function(t){e.addSrClusterForm.trigger_db_name=t.target.value.trim()}},model:{value:e.addSrClusterForm.trigger_db_name,callback:function(t){e.$set(e.addSrClusterForm,"trigger_db_name",t)},expression:"addSrClusterForm.trigger_db_name"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.chufa-DBhanshu"),prop:"trigger_db_func"}},[r("el-tooltip",{staticClass:"item",attrs:{"open-delay":1e3,effect:"dark",content:e.$t("createStreamReplicationCluster.dangfasheng-guzhang-qiehuan-message"),placement:"top-start"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.dangfasheng-guzhang-qiehuan-message")},on:{blur:function(t){e.addSrClusterForm.trigger_db_func=t.target.value.trim()}},model:{value:e.addSrClusterForm.trigger_db_func,callback:function(t){e.$set(e.addSrClusterForm,"trigger_db_func",t)},expression:"addSrClusterForm.trigger_db_func"}})],1)],1)],1)],1),r("el-form-item",{attrs:{label:e.$t("createStreamReplicationCluster.bei-zhu"),prop:"remark"}},[r("el-input",{attrs:{placeholder:e.$t("createStreamReplicationCluster.qingshuru-beizhu")},on:{blur:function(t){e.addSrClusterForm.remark=t.target.value.trim()}},model:{value:e.addSrClusterForm.remark,callback:function(t){e.$set(e.addSrClusterForm,"remark",t)},expression:"addSrClusterForm.remark"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{nativeOn:{click:function(t){e.addSrClusterFormVisible=!1}}},[e._v(e._s(e.$t("index.qu-xiao")))]),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.addSrClusteSubmit}},[e._v(e._s(e.$t("defineDatabasePage.ti-jiao")))])],1)],1):e._e()}),[],!1,d,"175d03e0",null,null);function d(e){for(let t in u)this[t]=u[t]}var p=function(){return n.exports}();export{p as default};
